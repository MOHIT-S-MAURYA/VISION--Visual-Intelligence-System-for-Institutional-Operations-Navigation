<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="693px" preserveAspectRatio="none" style="width:1285px;height:693px;background:#1B1B1B;" version="1.1" viewBox="0 0 1285 693" width="1285px" zoomAndPan="magnify"><title>User Service - Component Diagram</title><defs/><g><rect fill="#1B1B1B" height="693" style="stroke:none;stroke-width:1;" width="1285" x="0" y="0"/><g class="title" data-source-line="1"><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="276.6777" x="497.5198" y="22.9951">User Service - Component Diagram</text></g><!--cluster User Service--><g class="cluster" data-entity="User Service" data-source-line="3" data-uid="ent0002" id="cluster_User Service"><path d="M8.5,43.2969 L108.6758,43.2969 A3.75,3.75 0 0 1 111.1758,45.7969 L118.1758,65.5938 L809.5,65.5938 A2.5,2.5 0 0 1 812,68.0938 L812,537.2769 A2.5,2.5 0 0 1 809.5,539.7769 L8.5,539.7769 A2.5,2.5 0 0 1 6,537.2769 L6,45.7969 A2.5,2.5 0 0 1 8.5,43.2969" fill="none" style="stroke:#FFFFFF;stroke-width:1.5;"/><line style="stroke:#FFFFFF;stroke-width:1.5;" x1="6" x2="118.1758" y1="65.5938" y2="65.5938"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="99.1758" x="10" y="58.292">User Service</text></g><!--cluster External Systems--><g class="cluster" data-entity="External Systems" data-source-line="13" data-uid="ent0010" id="cluster_External Systems"><path d="M520.5,588.7769 L658.9229,588.7769 A3.75,3.75 0 0 1 661.4229,591.2769 L668.4229,611.0738 L1189.5,611.0738 A2.5,2.5 0 0 1 1192,613.5738 L1192,683.5769 A2.5,2.5 0 0 1 1189.5,686.0769 L520.5,686.0769 A2.5,2.5 0 0 1 518,683.5769 L518,591.2769 A2.5,2.5 0 0 1 520.5,588.7769" fill="none" style="stroke:#FFFFFF;stroke-width:1.5;"/><line style="stroke:#FFFFFF;stroke-width:1.5;" x1="518" x2="668.4229" y1="611.0738" y2="611.0738"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="137.4229" x="522" y="603.772">External Systems</text></g><!--entity api--><g class="entity" data-entity="api" data-source-line="4" data-uid="ent0003" id="entity_api"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="188.6816" x="234.66" y="78.2969"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="403.3416" y="83.2969"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="401.3416" y="85.2969"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="401.3416" y="89.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.6816" x="249.66" y="111.292">API Gateway Adapter</text></g><!--entity auth--><g class="entity" data-entity="auth" data-source-line="5" data-uid="ent0004" id="entity_auth"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="146.4355" x="442.78" y="201.5969"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="569.2155" y="206.5969"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="567.2155" y="208.5969"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="567.2155" y="212.5969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.4355" x="457.78" y="234.592">Auth Controller</text></g><!--entity umc--><g class="entity" data-entity="umc" data-source-line="6" data-uid="ent0005" id="entity_umc"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="242.207" x="74.9" y="277.8869"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="297.107" y="282.8869"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="295.107" y="284.8869"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="295.107" y="288.8869"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.207" x="89.9" y="310.882">User Management Controller</text></g><!--entity rpm--><g class="entity" data-entity="rpm" data-source-line="7" data-uid="ent0006" id="entity_rpm"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="232.6846" x="563.66" y="354.1869"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="776.3446" y="359.1869"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="774.3446" y="361.1869"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="774.3446" y="365.1869"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192.6846" x="578.66" y="387.182">Role &amp; Permission Manager</text></g><!--entity repo--><g class="entity" data-entity="repo" data-source-line="8" data-uid="ent0007" id="entity_repo"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="151.4326" x="549.28" y="477.4869"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="680.7126" y="482.4869"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="678.7126" y="484.4869"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="678.7126" y="488.4869"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.4326" x="564.28" y="510.482">User Repository</text></g><!--entity token--><g class="entity" data-entity="token" data-source-line="9" data-uid="ent0008" id="entity_token"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="238.2559" x="290.87" y="354.1869"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="509.1259" y="359.1869"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="507.1259" y="361.1869"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="507.1259" y="365.1869"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.2559" x="305.87" y="387.182">Token Service (JWT/OAuth2)</text></g><!--entity notify--><g class="entity" data-entity="notify" data-source-line="10" data-uid="ent0009" id="entity_notify"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="172.9863" x="623.51" y="78.2969"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="776.4963" y="83.2969"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="774.4963" y="85.2969"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="774.4963" y="89.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.9863" x="638.51" y="111.292">Email/SMS Handler</text></g><!--entity db--><g class="entity" data-entity="db" data-source-line="14" data-uid="ent0011" id="entity_db"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="181.9482" x="534.03" y="623.7769"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="695.9782" y="628.7769"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="693.9782" y="630.7769"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="693.9782" y="634.7769"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.9482" x="549.03" y="656.772">PostgreSQL User DB</text></g><!--entity notifAPI--><g class="entity" data-entity="notifAPI" data-source-line="15" data-uid="ent0012" id="entity_notifAPI"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="203.1191" x="972.44" y="623.7769"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="1155.5591" y="628.7769"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="1153.5591" y="630.7769"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="1153.5591" y="634.7769"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.1191" x="987.44" y="656.772">Notification Service API</text></g><!--entity analyticsAPI--><g class="entity" data-entity="analyticsAPI" data-source-line="16" data-uid="ent0013" id="entity_analyticsAPI"><rect fill="#313139" height="46.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="186.3643" x="750.82" y="623.7769"/><rect fill="#313139" height="10" style="stroke:#E7E7E7;stroke-width:0.5;" width="15" x="917.1843" y="628.7769"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="915.1843" y="630.7769"/><rect fill="#313139" height="2" style="stroke:#E7E7E7;stroke-width:0.5;" width="4" x="915.1843" y="634.7769"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.3643" x="765.82" y="656.772">Analytics Service API</text></g><!--link api to auth--><g class="link" data-entity-1="api" data-entity-2="auth" data-source-line="19" data-uid="lnk14" id="link_api_auth"><path d="M363.74,124.9769 C397.22,146.6969 442.5767,176.111 476.0967,197.861" fill="none" id="api-to-auth" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="481.13,201.1269,475.7574,192.8725,476.9356,198.4053,471.4028,199.5835,481.13,201.1269" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.6821" x="435" y="167.6638">REST calls</text></g><!--link api to umc--><g class="link" data-entity-1="api" data-entity-2="umc" data-source-line="20" data-uid="lnk15" id="link_api_umc"><path d="M314,124.7269 C288.46,162.6769 240.1399,234.4591 214.4999,272.5591" fill="none" id="api-to-umc" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="211.15,277.5369,219.4933,272.3035,213.9416,273.3887,212.8563,267.8369,211.15,277.5369" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.6821" x="294" y="167.6638">REST calls</text></g><!--link auth to token--><g class="link" data-entity-1="auth" data-entity-2="token" data-source-line="22" data-uid="lnk16" id="link_auth_token"><path d="M443.84,248.2869 C430.82,255.6469 418.89,265.2969 411,277.8869 C396.75,300.6269 398.3999,326.6181 402.7399,347.8781" fill="none" id="auth-to-token" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="403.94,353.7569,406.059,344.1387,402.9399,348.8579,398.2207,345.7388,403.94,353.7569" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.0137" x="412" y="305.6038">Generate/validate tokens</text></g><!--link auth to rpm--><g class="link" data-entity-1="auth" data-entity-2="rpm" data-source-line="23" data-uid="lnk17" id="link_auth_rpm"><path d="M546.18,248.3769 C557.65,257.2769 570.66,267.7869 582,277.8869 C609.9,302.7669 635.8172,329.2477 655.1772,349.7177" fill="none" id="auth-to-rpm" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="659.3,354.0769,656.0219,344.7896,655.8643,350.4442,650.2097,350.2866,659.3,354.0769" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.1992" x="630" y="305.6038">Check roles &amp; permissions</text></g><!--link umc to repo--><g class="link" data-entity-1="umc" data-entity-2="repo" data-source-line="25" data-uid="lnk18" id="link_umc_repo"><path d="M107.99,324.6069 C94.54,331.8869 82.37,341.4969 74,354.1869 C62.66,371.3569 60.8,384.6969 74,400.4869 C133.66,471.8369 406.045,491.6718 542.795,497.2618" fill="none" id="umc-to-repo" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="548.79,497.5069,539.9609,493.1426,543.7942,497.3027,539.6341,501.1359,548.79,497.5069" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.1836" x="75" y="381.9038">CRUD operations on user data</text></g><!--link rpm to repo--><g class="link" data-entity-1="rpm" data-entity-2="repo" data-source-line="26" data-uid="lnk19" id="link_rpm_repo"><path d="M665.82,400.9769 C660.49,409.9769 654.62,420.5369 650,430.4869 C642.96,445.6569 638.4686,457.7119 633.9186,471.4319" fill="none" id="rpm-to-repo" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="632.03,477.1269,638.6596,469.8435,633.6039,472.381,631.0663,467.3253,632.03,477.1269" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.1465" x="651" y="443.5538">Fetch roles/permissions</text></g><!--link notify to notifAPI--><g class="link" data-entity-1="notify" data-entity-2="notifAPI" data-source-line="28" data-uid="lnk20" id="link_notify_notifAPI"><path d="M796.66,114.2369 C902.61,131.1269 1068,166.6469 1068,223.7369 C1068,223.7369 1068,223.7369 1068,501.6269 C1068,544.7569 1070.3344,589.0786 1072.1144,617.4586" fill="none" id="notify-to-notifAPI" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="1072.49,623.4469,1075.9188,614.2141,1072.177,618.4567,1067.9345,614.7149,1072.49,623.4469" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.7173" x="1069" y="381.9038">Send OTP / password reset links</text></g><!--link repo to db--><g class="link" data-entity-1="repo" data-entity-2="db" data-source-line="29" data-uid="lnk21" id="link_repo_db"><path d="M625,524.1769 C625,551.2869 625,590.5069 625,617.5369" fill="none" id="repo-to-db" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="625,623.5369,629,614.5369,625,618.5369,621,614.5369,625,623.5369" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.7461" x="626" y="568.8438">Read/Write user &amp; role data</text></g><!--link auth to analyticsAPI--><g class="link" data-entity-1="auth" data-entity-2="analyticsAPI" data-source-line="31" data-uid="lnk22" id="link_auth_analyticsAPI"><path d="M589.62,228.7969 C667.13,233.6769 781.9,246.1869 811,277.8869 C857.36,328.3969 849.6356,545.1557 845.7156,617.2957" fill="none" id="auth-to-analyticsAPI" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="845.39,623.2869,849.8724,614.5172,845.6613,618.2942,841.8842,614.0831,845.39,623.2869" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.7866" x="848" y="443.5538">Audit login events (optional)</text></g><!--SRC=[PPBDRjim48JlUef53a5oC0Jqc4C0DtRJ5lbnBGSv53rinArDc289BkrKAFhktQKYssblacRuxSvGsMP7yCIKeA6qjot116v25uCdds5cSPsmgwg8xHRN16UdrZFuNG5ydow-m2rcUiKUfWPZflG3a06ZBV8kRmJfSmhEZP9yKwtGxj4BkjDv_zXsNQkkPP0Tps51gRFCDlYt8uCfnUw0Mb8CR7D8_I39gsghi2L_27ZnzNbLF-fQ7owBBQkildc7rjNDVGEVqPjn2n-o_TbNVqvQcF-Ia1uTD3rdwlYjYKNWl4xKVBiRAfrzB03pekA3OcoBMGECkqXtnndoKWeJS9zjo_-vS5JKAVj8mp2PN9SwuGgMysO5BJh71qKQV2zKnQjIIItYBNbASdtr7fqryZ0eV7HAm-AxsL2x1RaTOhcCUBWCOUgKOfI-rRbyca68IbKT9EzEwn0uLWexyNwYt6u6QlsEERHUh6CvOc_86tXSBQ26YCol8HaXCMLmrc-vAbGzOruqDw6fdvELJ6M1yp9esECOxxHLEJJT6IkuiBOUQ2z_9SD5Y9e4tULV]--></g></svg>