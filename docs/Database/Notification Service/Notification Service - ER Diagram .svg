<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="485px" preserveAspectRatio="none" style="width:596px;height:485px;background:#1B1B1B;" version="1.1" viewBox="0 0 596 485" width="596px" zoomAndPan="magnify"><title>Notification Service - ER Diagram</title><defs/><g><rect fill="#1B1B1B" height="485" style="stroke:none;stroke-width:1;" width="596" x="0" y="0"/><g class="title" data-source-line="1"><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="263.2178" x="159.6172" y="22.9951">Notification Service - ER Diagram</text></g><!--class Notification--><g class="entity" data-entity="Notification" data-source-line="3" data-uid="ent0002" id="entity_Notification"><rect fill="#313139" height="194.6719" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="582.4521" x="7" y="44.2969"/><ellipse cx="253.8115" cy="60.2969" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M257.9209,66.2969 L250.2021,66.2969 L250.2021,53.9063 L257.9209,53.9063 L257.9209,56.0625 L252.6553,56.0625 L252.6553,58.7344 L257.4209,58.7344 L257.4209,60.8906 L252.6553,60.8906 L252.6553,64.1406 L257.9209,64.1406 L257.9209,66.2969 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.3291" x="274.3115" y="65.1436">Notification</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="8" x2="588.4521" y1="76.2969" y2="76.2969"/><ellipse cx="18" cy="89.9453" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.5264" x="27" y="93.292">notification_id : UUID</text><ellipse cx="18" cy="106.2422" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.5049" x="27" y="109.5889">recipient_id : UUID</text><ellipse cx="18" cy="122.5391" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4775" x="27" y="125.8857">title : VARCHAR</text><ellipse cx="18" cy="138.8359" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0752" x="27" y="142.1826">message : TEXT</text><ellipse cx="18" cy="155.1328" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.4629" x="27" y="158.4795">created_at : TIMESTAMP</text><ellipse cx="18" cy="171.4297" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.0977" x="27" y="174.7764">sent_at : TIMESTAMP</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="8" x2="588.4521" y1="182.0781" y2="182.0781"/><ellipse cx="18" cy="195.7266" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="556.4521" x="27" y="199.0732">recipient_type : ENUM('Student','Teacher','DepartmentAdmin','PrincipalAdmin')</text><ellipse cx="18" cy="212.0234" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255.7529" x="27" y="215.3701">channel : ENUM('Email','SMS','Push')</text><ellipse cx="18" cy="228.3203" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="271.4346" x="27" y="231.667">status : ENUM('Pending','Sent','Failed')</text></g><!--class Template--><g class="entity" data-entity="Template" data-source-line="15" data-uid="ent0003" id="entity_Template"><rect fill="#313139" height="162.0781" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="281.7529" x="16.35" y="315.9669"/><ellipse cx="79.6815" cy="331.9669" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M83.7909,337.9669 L76.0722,337.9669 L76.0722,325.5762 L83.7909,325.5762 L83.7909,327.7325 L78.5253,327.7325 L78.5253,330.4044 L83.2909,330.4044 L83.2909,332.5606 L78.5253,332.5606 L78.5253,335.8106 L83.7909,335.8106 L83.7909,337.9669 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.5898" x="100.1815" y="336.8136">NotificationTemplate</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="17.35" x2="297.1029" y1="347.9669" y2="347.9669"/><ellipse cx="27.35" cy="361.6153" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.9951" x="36.35" y="364.962">template_id : UUID</text><ellipse cx="27.35" cy="377.9122" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.8096" x="36.35" y="381.2589">name : VARCHAR</text><ellipse cx="27.35" cy="394.2091" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.7266" x="36.35" y="397.5557">title_template : TEXT</text><ellipse cx="27.35" cy="410.5059" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.2734" x="36.35" y="413.8526">message_template : TEXT</text><ellipse cx="27.35" cy="426.8028" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.4629" x="36.35" y="430.1495">created_at : TIMESTAMP</text><ellipse cx="27.35" cy="443.0997" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174.043" x="36.35" y="446.4464">updated_at : TIMESTAMP</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="17.35" x2="297.1029" y1="453.7481" y2="453.7481"/><ellipse cx="27.35" cy="467.3966" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255.7529" x="36.35" y="470.7432">channel : ENUM('Email','SMS','Push')</text></g><!--class User--><g class="entity" data-entity="User" data-source-line="25" data-uid="ent0004" id="entity_User"><rect fill="#313139" height="96.8906" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="213.5576" x="333.45" y="348.5669"/><ellipse cx="420.0237" cy="364.5669" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M424.1331,370.5669 L416.4144,370.5669 L416.4144,358.1763 L424.1331,358.1763 L424.1331,360.3325 L418.8675,360.3325 L418.8675,363.0044 L423.6331,363.0044 L423.6331,365.1606 L418.8675,365.1606 L418.8675,368.4106 L424.1331,368.4106 L424.1331,370.5669 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="440.5237" y="369.4136">User</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="334.45" x2="546.0076" y1="380.5669" y2="380.5669"/><ellipse cx="344.45" cy="394.2153" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.333" x="353.45" y="397.562">user_id : UUID</text><ellipse cx="344.45" cy="410.5122" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.7158" x="353.45" y="413.8589">email : VARCHAR</text><ellipse cx="344.45" cy="426.8091" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.5576" x="353.45" y="430.1557">phone_number : VARCHAR</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="334.45" x2="546.0076" y1="437.4575" y2="437.4575"/></g><!--link Notification to User--><g class="link" data-entity-1="Notification" data-entity-2="User" data-source-line="31" data-uid="lnk5" id="link_Notification_User"><path codeLine="31" d="M356.2302,246.1262 C377.1502,283.4662 392.3385,310.5583 409.5685,341.2983" fill="none" id="Notification-User" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="350.7855" x2="357.7647" y1="244.5916" y2="240.6814"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="352.2518" x2="359.2311" y1="247.2088" y2="243.2987"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="356.2302" x2="352.32" y1="246.1262" y2="239.1469"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="415.0135" x2="408.035" y1="342.8318" y2="346.7434"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="413.5467" x2="406.5681" y1="340.2149" y2="344.1264"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="409.5685" x2="413.48" y1="341.2983" y2="348.2769"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.6582" x="378.23" y="282.0338">sent_to</text></g><!--link Notification to Template--><g class="link" data-entity-1="Notification" data-entity-2="Template" data-source-line="32" data-uid="lnk6" id="link_Notification_Template"><path codeLine="32" d="M240.6288,246.1367 C226.5388,271.4467 219.291,284.4869 205.731,308.8469" fill="none" id="Notification-Template" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="239.0794" x2="246.0693" y1="240.6962" y2="244.5874"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="237.6202" x2="244.6101" y1="243.3174" y2="247.2086"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="240.6288" x2="244.52" y1="246.1367" y2="239.1469"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="207.2805" x2="200.2905" y1="314.2874" y2="310.3964"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="208.7396" x2="201.7496" y1="311.6661" y2="307.7751"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="205.731" x2="201.84" y1="308.8469" y2="315.8369"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.9341" x="229.23" y="282.0338">based_on</text></g><!--SRC=[ZL91ReCm4Bpd5LOkQQlc0xcXXgev44K1gjxG1c-39MoGlLIAIlzUsv2481hrjfwTdTqPcGILoBOLYK-H0ubAiHZrbyYHBLcuPsi1HmroDaD5WaviFgJE6PZRsUyPOqzC3Q1CSBPYQRfP-vR6NDJ2Yls9qwb6smctQVImYAdX5bmyBnA4l41jgpNMe4bQEE1IA8lij51s7CeEUFIAv9sjs7kmVtaBzXwJQ0mS7Pg47uc7yWAKmlAoCPGWIgiPHx5JRapHwna2Qio5jqF5XJewPdVWgvr3tfDpZK38Co2tQnE5SH94kqx7cHpXFzFv9YZhqkhudC-FFcFgdwCS5SYnQHz4TkOFlVTnJFR-dSiTgqtDfre3jwb1xTsvedVMs7Ba2jtoaQswg1Hcgf47EtbjMV6R7zcsosNRTlghBdog9Yd9DOK367jsfNu1]--></g></svg>